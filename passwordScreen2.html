<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./CSS/login.css" />
  </head>
  <body>
    <div class="main_contaner login4" id="passwordScreen2">
      <div id="arrowRightP2" class="arrowRight">
        <img src="./images/arrow-right.svg" alt="" />
      </div>
      <h1>إعادة تعيين كلمة المرور</h1>
      <p>سنرسل لك كود اعادة تعيين كلمة المرور عبر البريد الالكتروني.</p>
      <form
        action="/reset-password"
        method="POST"
        class="form_contaner form_contanerP"
      >
        <div class="code-input-group">
          <input
            type="text"
            name="resetCode1"
            maxlength="1"
            class="code-input resetCodePass1"
          />
          <input
            type="text"
            name="resetCode2"
            maxlength="1"
            class="code-input resetCodePass1"
          />
          <input
            type="text"
            name="resetCode3"
            maxlength="1"
            class="code-input resetCodePass1"
          />
          <input
            type="text"
            name="resetCode4"
            maxlength="1"
            class="code-input resetCodePass1"
          />
        </div>
        <script>
          document.addEventListener("DOMContentLoaded", function () {
            const inputs = document.querySelectorAll(".code-input");

            inputs.forEach((input, index) => {
              input.addEventListener("input", function () {
                if (this.value.length === this.maxLength) {
                  const nextInput = inputs[index + 1];
                  if (nextInput) {
                    nextInput.focus();
                  }
                }
              });

              input.addEventListener("keydown", function (e) {
                if (e.key === "Backspace" && this.value.length === 0) {
                  const prevInput = inputs[index - 1];
                  if (prevInput) {
                    prevInput.focus();
                  }
                }
              });
            });
          });
        </script>
        <div class="loginbtn_con">
          <input type="button" id="donePass" class="loginbtn" value="تم" />
        </div>
        <div class="signup_con form_group">
          <h4>ارسل الكود مرة اخرى</h4>
          <p id="verification-code">لم يتم ارسال الكود ؟</p>
        </div>
      </form>
    </div>
    <script>
      let donePass = document.getElementById("donePass");

      donePass.addEventListener("click", function () {
        window.location.href = "passwordScreen3.html";
      });
      let arrowRightP2 = document.getElementById("arrowRightP2");

      arrowRightP2.addEventListener("click", function () {
        passwordScreen2.style.display = "none";
        window.location.href = "passwordScreen1.html";
      });

      function checkInputDirection(input) {
        const text = input.value;
        const isArabic =
          /[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/.test(
            text
          ) || /[0-9]/.test(text);

        if (isArabic) {
          input.style.direction = "rtl";
          input.style.textAlign = "right";
        } else {
          input.style.direction = "ltr";
          input.style.textAlign = "left";
        }
      }
    </script>

    <script src="./JS/APIs.js"></script>
    <script src="./JS/validation.js"></script>
    <script src="./JS/login.js"></script>
  </body>
</html>
